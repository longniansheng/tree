(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./docs/index.mdx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("./node_modules/react/index.js"),a=n.n(i),d=n("./node_modules/@mdx-js/react/dist/index.es.js"),s=n("./node_modules/docz/dist/index.esm.js");function l(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0===t,o=[],i=0;i<(1===e?1:10);i+=1){var a={id:"".concat(n,"_").concat(i),title:"".concat(n,"_").concat(i),leaf:r,children:[],selectType:"checkbox",selected:i%3===0};o.push(a),0!==t&&(a.children=l(e+1,t-1,a.id))}return o}l&&l===Object(l)&&Object.isExtensible(l)&&Object.defineProperty(l,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getTreeNodes",filename:"docs\\treeData.ts"}});var c=l(0,3,"node"),u=c;"undefined"!==typeof c&&c&&c===Object(c)&&Object.isExtensible(c)&&Object.defineProperty(c,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"treeData",filename:"docs\\treeData.ts"}});var p,f=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),m=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),b=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),h=n("./node_modules/events/events.js");!function(e){e.ADD_NODE="ADD_NODE",e.UPDATE_NODE="UPDATE_NODE",e.REMOVE_NODE="REMOVE_NODE",e.MOVE_NODE="MOVE_NODE",e.EXPAND_NODE="EXPAND_NODE",e.COLLAPSE_NODE="COLLAPSE_NODE",e.BEGIN_LOAD_NODE_CHILDREN="BEGIN_LOAD_NODE_CHILDREN",e.LOAD_NODE_CHILDREN_SUCCESS="LOAD_NODE_CHILDREN_SUCCESS",e.LOAD_NODE_CHILDREN_FAILURE="LOAD_NODE_CHILDREN_FAILURE"}(p||(p={}));var g=p;function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}"undefined"!==typeof p&&p&&p===Object(p)&&Object.isExtensible(p)&&Object.defineProperty(p,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeModelEventType",filename:"packages\\tree-models\\src\\TreeModelEventType.ts"}}),"undefined"!==typeof LoadChildrenEventListener&&LoadChildrenEventListener&&LoadChildrenEventListener===Object(LoadChildrenEventListener)&&Object.isExtensible(LoadChildrenEventListener)&&Object.defineProperty(LoadChildrenEventListener,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"LoadChildrenEventListener",filename:"packages\\tree-models\\src\\TreeModel.ts"}});var O="VIRTUAL_ROOT_NODE",y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;Object(m.a)(this,e),this.loadChildren=n,this.eventEmitter=new h.EventEmitter,this.virtualRootNode={id:O,title:"\u865a\u62df\u6839\u8282\u70b9",level:-1,nodeConfig:{id:O,title:"\u865a\u62df\u6839\u8282\u70b9"}},this.nodes=[],this.on=void 0,this.removeAllListeners=void 0,this.removeListener=void 0,this.nodes=[],0===t.length&&n?(this.virtualRootNode.children=[],this.loadNodeChildren(this.virtualRootNode)):this.addNode.apply(this,[O].concat(Object(f.a)(t))),this.on=this.eventEmitter.on.bind(this.eventEmitter),this.removeAllListeners=this.eventEmitter.removeAllListeners.bind(this.eventEmitter),this.removeListener=this.eventEmitter.removeListener.bind(this.eventEmitter)}return Object(b.a)(e,[{key:"updateRootNodes",value:function(e){var t=this;(this.rootNodes||[]).forEach((function(e){return t.removeNode(e.id)})),this.addNode.apply(this,[O].concat(Object(f.a)(e)))}},{key:"getVisibleNodes",value:function(){var e=[];return(this.rootNodes||[]).forEach((function t(n){e.push(n),n.expanded&&n.children&&n.children.forEach(t)})),e}},{key:"expandNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getNodeById(e);if(n.expanded=!0,t&&n.parent)for(var r=n.parent;r;)r.expanded=!0,r=r.parent;return this.eventEmitter.emit(g.EXPAND_NODE,e),this.loadNodeChildren(n)}},{key:"expandAll",value:function(){this.nodes.filter((function(e){return!e.leaf})).forEach((function(e){e.expanded=!0})),this.eventEmitter.emit(g.EXPAND_NODE,-1)}},{key:"collapseNode",value:function(e){this.getNodeById(e).expanded=!1,this.eventEmitter.emit(g.COLLAPSE_NODE,e)}},{key:"getNodeById",value:function(e){return e===O?this.virtualRootNode:this.nodes.find((function(t){return t.id===e}))}},{key:"getNodeIdxOfParent",value:function(e){var t=this.getNodeById(e),n=t.parent;return n?(n.children||[]).indexOf(t):(this.rootNodes||[]).indexOf(t)}},{key:"addNode",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.addNodeAt.apply(this,[e,-1].concat(n))}},{key:"addNodeAt",value:function(e,t){var n,r,o=this,i=e?this.getNodeById(e):this.virtualRootNode,a=this.getInsertNodePos(i,t);if(-1===a)throw new Error("\u6307\u5b9a\u7684\u63d2\u5165\u4f4d\u7f6e\u4e0d\u6b63\u786e");for(var d=arguments.length,s=new Array(d>2?d-2:0),l=2;l<d;l++)s[l-2]=arguments[l];var c=this.transformTreeNodesToArray(i,s);c.forEach((function(e){!e.loaded&&e.expanded&&o.loadNodeChildren(e)})),(n=this.nodes).splice.apply(n,[a,0].concat(Object(f.a)(c))),i.children=this.getChildren(i),(r=this.eventEmitter).emit.apply(r,[g.ADD_NODE,e,t].concat(s))}},{key:"updateNode",value:function(e,t){var n=this.getNodeById(e);return Object.assign(n,t),this.eventEmitter.emit(g.UPDATE_NODE,e,t),n}},{key:"getInsertNodePos",value:function(e,t){var n=this.getNodeAt(e,t);return n||-1!==t?n?n&&-1===t?this.getNodeIdx(n)+1:this.getNodeIdx(n):-1:this.getNodeIdx(e)+1}},{key:"getNodeAt",value:function(e,t){var n=e.children||[];return-1===t?n[n.length-1]:n[t]}},{key:"getNodeIdx",value:function(e){return this.nodes.indexOf(e)}},{key:"removeNode",value:function(e){var t=this.getNodeById(e),n=t.parent||this.virtualRootNode,r=this.getNodeIdx(t),o=this.getDescendantCount(t)+1;this.nodes.splice(r,o),n.children=this.getChildren(n),this.eventEmitter.emit(g.REMOVE_NODE,e)}},{key:"moveNode",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(this.isInheritanceRelationship(e,t))return!1;var o=this.getNodeById(e),i=o.parent||this.virtualRootNode,a=t?this.getNodeById(t):this.virtualRootNode,d=this.getNodeIdx(o),s=this.getInsertNodePos(a,r),l=this.getDescendantCount(o)+1,c=this.nodes.splice(d,l);if((n=this.nodes).splice.apply(n,[s,0].concat(Object(f.a)(c))),i!==a){var u=a.level-i.level;0!==u&&c.forEach((function(e){e.level+=u})),o.parent=a,a.leaf=!1,i.children=this.getChildren(i)}return a.children=this.getChildren(a),this.eventEmitter.emit(g.MOVE_NODE,e,t,r),!0}},{key:"isInheritanceRelationship",value:function(e,t){for(var n=this.getNodeById(e),r=this.getNodeById(t);r;){if(r===n)return!0;r=r.parent}return!1}},{key:"getChildren",value:function(e){return this.nodes.filter((function(t){return t.parent===e}))}},{key:"getDescendantCount",value:function(e){var t=0;return this.traverseNodeChildren(e,(function(e){t+=e.length})),t}},{key:"traverseNodeChildren",value:function(e,t){if(e.children){t(e.children);var n=!0,r=!1,o=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var d=i.value;this.traverseNodeChildren(d,t)}}catch(s){r=!0,o=s}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}}},{key:"traverseNodeChildrenByDeep",value:function(e,t){if(e.children){var n=!0,r=!1,o=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var d=i.value;this.traverseNodeChildrenByDeep(d,t)}}catch(s){r=!0,o=s}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}t(e)}},{key:"needLoadChildren",value:function(e){return!e.leaf&&(!e.children||0===e.children.length)&&!e.loading&&!e.loaded&&!!this.loadChildren}},{key:"loadNodeChildren",value:function(e){var t=this;if(this.needLoadChildren(e)){e.loading=!0,this.eventEmitter.emit(g.BEGIN_LOAD_NODE_CHILDREN,e.id);var n=this.loadChildren?this.loadChildren(e===this.virtualRootNode?void 0:e):[],r=function(n){t.addNode.apply(t,[e.id].concat(Object(f.a)(n))),e.loaded=!0,e.loading=!1,t.eventEmitter.emit(g.LOAD_NODE_CHILDREN_SUCCESS,e.id)};return n instanceof Array?r(n):n.then(r).catch((function(n){t.eventEmitter.emit(g.LOAD_NODE_CHILDREN_FAILURE,e.id,n)})),r}}},{key:"transformNode",value:function(e,t){e.children;var n=Object(o.a)(e,["children"]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{nodeConfig:n,parent:t,level:t?t.level+1:0,leaf:"boolean"===typeof e.leaf?e.leaf:!e.children||0===e.children.length})}},{key:"transformTreeNodesToArray",value:function(e,t){var n=this,r=[],o=function e(t,o){var i=n.transformNode(t,o);return r.push(i),t.children&&(i.children=t.children.map((function(t){return e(t,i)}))),i},i=!0,a=!1,d=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){o(s.value,e)}}catch(c){a=!0,d=c}finally{try{i||null==l.return||l.return()}finally{if(a)throw d}}return r}},{key:"rootNodes",get:function(){return this.virtualRootNode.children}}]),e}();"undefined"!==typeof y&&y&&y===Object(y)&&Object.isExtensible(y)&&Object.defineProperty(y,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeModel",filename:"packages\\tree-models\\src\\TreeModel.ts"}}),"undefined"!==typeof y&&y&&y===Object(y)&&Object.isExtensible(y)&&Object.defineProperty(y,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeModel",filename:"packages\\tree-models\\src\\TreeModel.ts"}});var N=n("./packages/tree-models/src/TreeNodeConfigType.ts"),j=n.n(N),T=n("./packages/tree-models/src/TreeNodeType.ts"),E=n.n(T),D=n("./packages/tree-models/src/TreeSelectStrategy.ts"),_=n.n(D);"undefined"!==typeof E.a&&E.a&&E.a===Object(E.a)&&Object.isExtensible(E.a)&&Object.defineProperty(E.a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeNodeType",filename:"packages\\tree-models\\src\\index.ts"}}),"undefined"!==typeof _.a&&_.a&&_.a===Object(_.a)&&Object.isExtensible(_.a)&&Object.defineProperty(_.a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeSelectStrategy",filename:"packages\\tree-models\\src\\index.ts"}}),"undefined"!==typeof E.a&&E.a&&E.a===Object(E.a)&&Object.isExtensible(E.a)&&Object.defineProperty(E.a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeNodeType",filename:"packages\\tree-models\\src\\index.ts"}}),"undefined"!==typeof j.a&&j.a&&j.a===Object(j.a)&&Object.isExtensible(j.a)&&Object.defineProperty(j.a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeNodeConfigType",filename:"packages\\tree-models\\src\\index.ts"}}),"undefined"!==typeof g&&g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeModelEventType",filename:"packages\\tree-models\\src\\index.ts"}});var x=y;"undefined"!==typeof y&&y&&y===Object(y)&&Object.isExtensible(y)&&Object.defineProperty(y,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeModel",filename:"packages\\tree-models\\src\\index.ts"}});var I=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),C=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),S=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),P=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),k=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),M=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),R=n("./node_modules/classnames/index.js"),L=n.n(R),w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(m.a)(this,e),this.selectedItems=t,this.isAllowEmpty=n}return Object(b.a)(e,[{key:"toggle",value:function(e){e&&!e.disabled&&!1!==e.selectable&&(this.selectedItems[0]!==e.id?this.selectedItems=[e.id]:this.isAllowEmpty&&(this.selectedItems=[]))}},{key:"isSelected",value:function(e){return this.selectedItems&&-1!==this.selectedItems.indexOf(e.id)}},{key:"isPartialSelected",value:function(){return!1}}]),e}();"undefined"!==typeof w&&w&&w===Object(w)&&Object.isExtensible(w)&&Object.defineProperty(w,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"SingleTreeSelectStrategy",filename:"packages\\tree\\src\\SingleTreeSelectStrategy.ts"}}),"undefined"!==typeof w&&w&&w===Object(w)&&Object.isExtensible(w)&&Object.defineProperty(w,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"SingleTreeSelectStrategy",filename:"packages\\tree\\src\\SingleTreeSelectStrategy.ts"}});var A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;Object(m.a)(this,e),this.selectedItems=t,this.radioSelectedItem="";var r=t.map((function(e){return n.getNodeById(e)})).filter(Boolean).find((function(e){return"radio"===e.selectType}));r&&(this.radioSelectedItem=r.id)}return Object(b.a)(e,[{key:"toggleItemFromItems",value:function(e){var t=this.selectedItems.indexOf(e);this.selectedItems=-1===t?[].concat(Object(f.a)(this.selectedItems),[e]):[].concat(Object(f.a)(this.selectedItems.slice(0,t)),Object(f.a)(this.selectedItems.slice(t+1)))}},{key:"toggle",value:function(e){e&&!1!==e.selectable&&!e.disabled&&("radio"===e.selectType?(this.radioSelectedItem&&this.toggleItemFromItems(this.radioSelectedItem),this.radioSelectedItem=e.id,this.toggleItemFromItems(this.radioSelectedItem)):this.toggleItemFromItems(e.id))}},{key:"isSelected",value:function(e){return this.selectedItems&&-1!==this.selectedItems.indexOf(e.id)}},{key:"isPartialSelected",value:function(){return!1}}]),e}();"undefined"!==typeof A&&A&&A===Object(A)&&Object.isExtensible(A)&&Object.defineProperty(A,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MultipleTreeSelectStrategy",filename:"packages\\tree\\src\\MultipleTreeSelectStrategy.ts"}}),"undefined"!==typeof A&&A&&A===Object(A)&&Object.isExtensible(A)&&Object.defineProperty(A,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MultipleTreeSelectStrategy",filename:"packages\\tree\\src\\MultipleTreeSelectStrategy.ts"}});var B=n("./node_modules/sinoui-components/Progress/index.js"),H=n("./node_modules/sinoui-components/Icon/index.js"),W=n("./node_modules/sinoui-components/Text/index.js"),U=n("./node_modules/sinoui-components/Checkbox/index.js"),V=n("./node_modules/sinoui-components/Radio/index.js"),Y=n("./node_modules/@sinoui/ripple/dist/index.js"),G=n("./node_modules/react-icons/md/index.esm.js");function F(){var e=Object(k.a)(["\n  cursor: pointer;\n  user-select: none;\n  transform: rotate(","deg);\n  transition: ",";\n"]);return F=function(){return e},e}"undefined"!==typeof Props&&Props&&Props===Object(Props)&&Object.isExtensible(Props)&&Object.defineProperty(Props,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Props",filename:"packages\\tree\\src\\TreeNode\\ExpandIconButton.tsx"}}),"undefined"!==typeof ExpandIconProps&&ExpandIconProps&&ExpandIconProps===Object(ExpandIconProps)&&Object.isExtensible(ExpandIconProps)&&Object.defineProperty(ExpandIconProps,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ExpandIconProps",filename:"packages\\tree\\src\\TreeNode\\ExpandIconButton.tsx"}});var X=Object(M.default)(H.b).attrs((function(e){return{color:e.color||"primary"}}))(F(),(function(e){return e.expanded?"-45":"-90"}),(function(e){return e.theme.transitions.create("transform",{duration:e.theme.transitions.duration.short})})),z=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(I.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(o)))).onClick=function(e){e.preventDefault(),e.stopPropagation();var t=n.props,r=t.node,o=t.treeModel;r.expanded?o.collapseNode(r.id):o.expandNode(r.id)},n}return Object(P.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.node;return a.a.createElement(X,{onClick:this.onClick,expanded:e.expanded},a.a.createElement(G.a,null))}}]),t}(a.a.Component),q=Object(Y.withRipple)({center:!0,rippleLayoutClassName:"sinoui-tree__expand-icon-button__ripple-layout",rippleClassName:"sinoui-tree__expand-icon-button__ripple",fixSize:!0})(z),J=n("./node_modules/polished/dist/polished.es.js");function K(){var e=Object(k.a)(["\n  display: flex;\n  flex-direction: row;\n  min-height: ","px;\n  align-items: center;\n\n  color: ",";\n\n  & > .sinoui-tree-node__icon {\n    width: 24px;\n    height: 24px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    > .sinoui-icon,\n    > .sinoui-svg-icon {\n      font-size: 20px;\n    }\n  }\n\n  & > .sinoui-tree-node__title {\n    flex: 1;\n    transition: ",";\n    color: currentColor;\n    cursor: default;\n  }\n\n  padding-left: ","px;\n\n  background-color: ",";\n\n  &:hover {\n    color: ",";\n    background-color: ",";\n  }\n\n  opacity: ",";\n"]);return K=function(){return e},e}"undefined"!==typeof Props&&Props&&Props===Object(Props)&&Object.isExtensible(Props)&&Object.defineProperty(Props,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Props",filename:"packages\\tree\\src\\TreeNode\\TreeNodeLayout.tsx"}});var Q=M.default.div(K(),(function(e){return e.nodeHeight||(e.dense?32:40)}),(function(e){return e.node.selected?e.theme.palette.primary[500]:e.theme.palette.text.primary}),(function(e){return e.theme.transitions.create("color",{duration:e.theme.transitions.duration.shortest,easing:e.theme.transitions.easing.easeInOut})}),(function(e){return 24*e.indent}),(function(e){return e.node.selected&&!e.disableSelectedNodeStyle&&Object(J.opacify)(-.4,e.theme.palette.primary[100])}),(function(e){return e.theme.palette.primary[500]}),(function(e){return Object(J.opacify)(e.node.selected&&!e.disableSelectedNodeStyle?-.4:-.8,e.theme.palette.primary[100])}),(function(e){return e.isDragging?.1:1})),Z=Q;function $(e){var t=e.className,n=e.onClick,r=e.onDblClick,i=e.innerRef,d=e.renderNodeTitle,s=e.renderTreeNodeRightSection,l=Object(o.a)(e,["className","onClick","onDblClick","innerRef","renderNodeTitle","renderTreeNodeRightSection"]),c=l.node;return a.a.createElement(Z,Object.assign({},l,{ref:i,className:L()("sinoui-tree-node",t),onClick:function(e){l.multiple&&!l.selectedWhenNodeClick||!1===l.node.selectable||l.node.disabled||(l.treeSelectStrategy.toggle(l.node),e.stopPropagation()),n&&n(e,l)},onDoubleClick:function(e){return r?r(e,l):void 0}}),function(e){return!e.node.loading&&!e.node.leaf&&a.a.createElement("span",{className:"sinoui-tree-node__icon",key:"expandIcon"},a.a.createElement(q,{key:"expandIcon",node:e.node,treeModel:e.treeModel}))}(l),function(e){return e.node.loading&&a.a.createElement("span",{className:"sinoui-tree-node__icon",key:"progressIcon"},a.a.createElement(B.a,{key:"progress",size:16,thickness:1}))}(l),function(e){if(e.hideSelectedButtonIcon)return null;var t="radio"===e.node.selectType?V.a:U.a;return e.multiple&&!1!==e.node.selectable&&a.a.createElement("span",{className:"sinoui-tree-node__icon",key:"checkboxIcon"},a.a.createElement(t,{dense:!0,disabled:e.node.disabled,checked:e.node.selected,indeterminate:e.node.partialSelected,onChange:function(t){t.stopPropagation(),!1===e.node.selectable||e.node.disabled||e.treeSelectStrategy.toggle(e.node)},onClick:function(e){return e.stopPropagation()}}))}(l),function(e){var t,n=e.node,r=e.useExpandIconToNodeIcon,o=e.hiddenNodeIcon,i=e.nodeIcon;return(n.loading||n.leaf?o:r)?null:(t=n.icon?a.a.createElement(H.b,{color:e.node.iconColor},e.node.icon):"string"===typeof i||"number"===typeof i?a.a.createElement(H.a,null,e.nodeIcon):"function"===typeof i?i(e):e.nodeIcon)?a.a.createElement("span",{className:"sinoui-tree-node__icon",key:"nodeIcon"},t):null}(l),a.a.createElement(W.a,{className:"sinoui-tree-node__title"},d?d(l):c.title),s&&s(l))}"undefined"!==typeof Q&&Q&&Q===Object(Q)&&Object.isExtensible(Q)&&Object.defineProperty(Q,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeNodeLayout",filename:"packages\\tree\\src\\TreeNode\\TreeNodeLayout.tsx"}}),"undefined"!==typeof TreeNodeProps&&TreeNodeProps&&TreeNodeProps===Object(TreeNodeProps)&&Object.isExtensible(TreeNodeProps)&&Object.defineProperty(TreeNodeProps,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeNodeProps",filename:"packages\\tree\\src\\TreeNode\\TreeNode.tsx"}});var ee=$;$&&$===Object($)&&Object.isExtensible($)&&Object.defineProperty($,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeNode",filename:"packages\\tree\\src\\TreeNode\\TreeNode.tsx"}});var te,ne=ee;"undefined"!==typeof ee&&ee&&ee===Object(ee)&&Object.isExtensible(ee)&&Object.defineProperty(ee,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeNode",filename:"packages\\tree\\src\\TreeNode\\index.ts"}}),function(e){e[e.RED=1]="RED",e[e.GREY=2]="GREY",e[e.WHITE=3]="WHITE"}(te||(te={}));var re=[g.ADD_NODE,g.REMOVE_NODE,g.MOVE_NODE,g.LOAD_NODE_CHILDREN_SUCCESS],oe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;Object(m.a)(this,e),this.selectedItemsfromStrategy=n,this.treeModel=r,this.colors=void 0,this.virtualNodes=void 0,this.colors={},this.virtualNodes={},this.initColors(),this.calcVirtualNodes(),re.forEach((function(e){t.treeModel.on(e,(function(){t.initColors(),t.calcVirtualNodes()}))}))}return Object(b.a)(e,[{key:"calcVirtualNodes",value:function(){var e=this;(this.treeModel.rootNodes||[]).forEach((function(t){e.treeModel.traverseNodeChildrenByDeep(t,(function(t){((t.virtual||t.id.startsWith("VIRTUAL_LEADER_NODE")||t.disabled||!1===t.selectable)&&(e.virtualNodes[t.id]=!0),t.level>0&&!e.virtualNodes[t.parent.id])&&((e.virtualNodes[t.id]&&!t.id.startsWith("VIRTUAL_LEADER_NODE")||(t.disabled||!1===t.selectable)&&e.colors[t.id]===te.WHITE)&&(e.virtualNodes[t.parent.id]=!0))}))}))}},{key:"initColors",value:function(){var e=this;this.colors={},this.treeModel.nodes.forEach((function(t){e.colors[t.id]=te.WHITE}));var t=this.selectedItemsfromStrategy;t.forEach((function(t){e.colorNode(t,te.RED,!0)})),t.length>0&&(this.treeModel.rootNodes||[]).forEach((function(t){e.treeModel.traverseNodeChildrenByDeep(t,(function(t){e.colors[t.id]===te.WHITE&&(e.colors[t.id]=e.getNodeColorWithChildren(t))}))}))}},{key:"colorNode",value:function(e,t,n){var r=this;this.colors[e]=t;var o=this.treeModel.getNodeById(e);o&&this.treeModel.traverseNodeChildrenByDeep(o,(function(e){n&&(e.disabled||!1===e.selectable)||(r.colors[e.id]=t)}))}},{key:"getNodeColorWithChildren",value:function(e){var t=e.children,n=t?t.filter((function(e){return!e.disabled&&!1!==e.selectable})):[],r=te.WHITE;if(n.length>0){var o=!0,i=!0,a=!0,d=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value.id;if(this.colors[u]===te.GREY){o=!1,i=!1;break}this.colors[u]===te.RED?i=!1:o=!1}}catch(p){d=!0,s=p}finally{try{a||null==c.return||c.return()}finally{if(d)throw s}}r=o?te.RED:i?te.WHITE:te.GREY}return r}},{key:"toggle",value:function(e){var t=this.colors[e.id];this.colorNode(e.id,t===te.RED?te.WHITE:te.RED,!0);for(var n=e.parent;n;)this.colors[n.id]=this.getNodeColorWithChildren(n),n=n.parent;this.syncSelectedItems()}},{key:"syncSelectedItems",value:function(){var e=this,t=[];(this.treeModel.rootNodes||[]).forEach((function n(r){r.id.startsWith("VIRTUAL_LEADER_NODE")||r.virtual||e.virtualNodes[r.id]||e.colors[r.id]!==te.RED?r.children&&(e.virtualNodes[r.id]||e.colors[r.id]!==te.WHITE)&&r.children.forEach(n):t.push(r.id)})),this.selectedItemsfromStrategy=[].concat(Object(f.a)(this.selectedItemsfromStrategy.filter((function(t){return!e.treeModel.getNodeById(t)}))),t)}},{key:"isSelected",value:function(e){var t=e.id,n=e.parent;return this.colors[t]||(this.colors[t]=n&&this.colors[n.id]===te.RED&&!this.virtualNodes[t]?te.RED:te.WHITE),this.colors[e.id]===te.RED}},{key:"isPartialSelected",value:function(e){return this.colors[e.id]===te.GREY}},{key:"selectedItems",get:function(){return this.selectedItemsfromStrategy},set:function(e){e!==this.selectedItemsfromStrategy&&(this.selectedItemsfromStrategy=e,this.initColors())}}]),e}();function ie(e,t){var n={},r={},o=function(t){return t.leaf?void 0:e.filter((function(e){return e.parent&&e.parent.id===t.id}))};return function e(i){var a={},d=!1,s=!1,l=!1;i.forEach((function(e){var n=!e.leaf,r=function(e,t){return!t.hiddenNodeIcon&&(!(!e.leaf&&t.useExpandIconToNodeIcon)&&!!(e.icon||t.nodeIcon&&("function"===typeof t.nodeIcon?t.nodeIcon(e):t.nodeIcon)))}(e,t),o=function(e,t){return!t.hideSelectedButtonIcon&&(t.multiple&&!1!==e.selectable)}(e,t);a[e.id]={expanded:n,node:r,checkbox:o},n&&(d=!0),r&&(s=!0),o&&(l=!0)})),i.forEach((function(t){var i=(0===t.level?0:r[t.parent.id])+(t.level>0?.7:0);r[t.id]=i;var c=i;d&&!a[t.id].expanded?c+=1:!d&&t.leaf&&(c+=.8),s&&!a[t.id].node&&(c+=1),l&&!a[t.id].checkbox&&(c+=1),n[t.id]=c;var u=o(t);u&&u.length>0&&e(u)}))}(e.filter((function(e){return 0===e.level}))),n}"undefined"!==typeof oe&&oe&&oe===Object(oe)&&Object.isExtensible(oe)&&Object.defineProperty(oe,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"CascadeTreeSelectStrategy",filename:"packages\\tree\\src\\CascadeTreeSelectStrategy.ts"}}),"undefined"!==typeof oe&&oe&&oe===Object(oe)&&Object.isExtensible(oe)&&Object.defineProperty(oe,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"CascadeTreeSelectStrategy",filename:"packages\\tree\\src\\CascadeTreeSelectStrategy.ts"}});var ae=ie;function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(){var e=Object(k.a)(["\n  position: relative;\n\n  .sinoui-tree-item-moving {\n    transition: transform 195ms cubic-bezier(0, 0, 0.32, 1) !important;\n  }\n\n  .sinoui-tree__expand-icon-button__ripple-layout {\n    width: 32px;\n    height: 32px;\n    top: -6px;\n    left: -6px;\n  }\n\n  .sinoui-tree__expand-icon-button__ripple {\n    width: 32px;\n    height: 32px;\n  }\n"]);return le=function(){return e},e}ie&&ie===Object(ie)&&Object.isExtensible(ie)&&Object.defineProperty(ie,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"calcNodesIndent",filename:"packages\\tree\\src\\calcNodesIndent.ts"}});var ce=M.default.div(le());"undefined"!==typeof TreeProps&&TreeProps&&TreeProps===Object(TreeProps)&&Object.isExtensible(TreeProps)&&Object.defineProperty(TreeProps,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeProps",filename:"packages\\tree\\src\\Tree.tsx"}}),"undefined"!==typeof TreeState&&TreeState&&TreeState===Object(TreeState)&&Object.isExtensible(TreeState)&&Object.defineProperty(TreeState,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeState",filename:"packages\\tree\\src\\Tree.tsx"}});var ue=[g.ADD_NODE,g.REMOVE_NODE,g.MOVE_NODE,g.EXPAND_NODE,g.COLLAPSE_NODE,g.UPDATE_NODE,g.BEGIN_LOAD_NODE_CHILDREN,g.LOAD_NODE_CHILDREN_SUCCESS],pe=function(e){function t(e){var n;Object(m.a)(this,t),(n=Object(I.a)(this,Object(C.a)(t).call(this,e))).treeModel={},n.isControlled=void 0,n.updateNode=function(e,t){n.treeModel.updateNode(e,t)},n.isVisible=function(e){return"1"===e.isVisible};var r=e.selectedItems;return n.onTreeModelUpate=n.onTreeModelUpate.bind(Object(S.a)(n)),n.createTreeModel(),n.isControlled="undefined"!==typeof e.selectedItems&&"function"===typeof e.onSelect,n.state={nodes:n.treeModel.getVisibleNodes(),selectedItems:r,prevProps:e,treeSelectStrategy:n.createTreeSelectStrategy()},n}return Object(P.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.treeRef;e&&e(this.treeModel)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.updateAfterPropsChange,r=t.nodes;n&&e.nodes!==r&&this.treeModel.updateRootNodes(r||[])}},{key:"componentWillUnmount",value:function(){var e=this;ue.forEach((function(t){return e.treeModel.removeListener(t,e.onTreeModelUpate)}))}},{key:"onTreeModelUpate",value:function(){this.setState({nodes:this.treeModel.getVisibleNodes()})}},{key:"updateSelectedItems",value:function(e){var t=this,n=this.props,r=n.selectedItems,o=n.onSelect,i=this.state.selectedItems,a=this.isControlled?r!==e:i!==e;!this.isControlled&&a&&this.setState({selectedItems:e}),a&&o&&o(e,e.map((function(e){return t.treeModel.nodes.find((function(t){return t.id===e}))})).filter(Boolean))}},{key:"isSelected",value:function(e){return this.state.treeSelectStrategy.isSelected(e)}},{key:"isPartialSelected",value:function(e){return this.state.treeSelectStrategy.isPartialSelected(e)}},{key:"createTreeModel",value:function(){var e=this,t=this.props,n=t.nodes,r=t.loadChildren,o=t.expandRootNodes;this.treeModel=new x(n,r),ue.forEach((function(t){return e.treeModel.on(t,e.onTreeModelUpate)})),n&&o&&n.forEach((function(t){return e.treeModel.expandNode(t.id)}))}},{key:"createTreeSelectStrategy",value:function(){var e,t,n,r=this,o=this.props,i=o.multiple,a=o.cascade,d=o.selectedItems,s=o.isAllowEmpty;return e=i&&a?new oe(d,this.treeModel):i?new A(d,this.treeModel):new w(d,s),t=e,n=function(){var e=r.state.treeSelectStrategy;r.updateSelectedItems(e.selectedItems||[])},["toggle"].forEach((function(e){var r=t[e];t[e]=function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];r.apply(t,o),n(t)}})),t}},{key:"renderTreeNode",value:function(e,t){var n=this.isSelected(e),r=!n&&this.isPartialSelected(e),o=this.isVisible(e)?{textDecoration:"line-through"}:{},i=this.props,a=i.nodeHeight,d=i.nodeIcon,s=i.useExpandIconToNodeIcon,l=i.dense,c=i.multiple,u=i.renderTreeNodeRightSection,p=i.disableSelectedNodeStyle,f=i.nodeStyle,m=i.selectedWhenNodeClick,b=i.hideSelectedButtonIcon,h=i.onNodeClick,g=i.onNodeDblClick,v=i.renderNodeTitle,O=i.renderNode,y=this.state.treeSelectStrategy,N={key:e.id,nodeHeight:a,node:se({},e,{selected:n,partialSelected:r}),nodeIcon:d,treeModel:this.treeModel,treeSelectStrategy:y,useExpandIconToNodeIcon:s,dense:l,multiple:c,renderTreeNodeRightSection:u,disableSelectedNodeStyle:p,style:se({},f,{},o),selectedWhenNodeClick:m,hideSelectedButtonIcon:b,onClick:h,onDblClick:g,renderNodeTitle:v,indent:t[e.id]};return O?O(N):null}},{key:"render",value:function(){var e=this,t=this.state.nodes,n=this.props,r=n.style,o=n.className,i=ae(t,this.props);return a.a.createElement(ce,{style:r,className:L()("sinoui-tree",o)},t.map((function(t){return e.renderTreeNode(t,i)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.selectedItems!==t.prevProps.selectedItems?(t.treeSelectStrategy.selectedItems=e.selectedItems,{selectItems:e.selectedItems}):null}}]),t}(a.a.Component);pe.defaultProps={renderNode:ne,dense:!0,useExpandIconToNodeIcon:!0,expandRootNodes:!0},"undefined"!==typeof pe&&pe&&pe===Object(pe)&&Object.isExtensible(pe)&&Object.defineProperty(pe,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Tree",filename:"packages\\tree\\src\\Tree.tsx"}}),"undefined"!==typeof pe&&pe&&pe===Object(pe)&&Object.isExtensible(pe)&&Object.defineProperty(pe,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Tree",filename:"packages\\tree\\src\\Tree.tsx"}}),"undefined"!==typeof _.a&&_.a&&_.a===Object(_.a)&&Object.isExtensible(_.a)&&Object.defineProperty(_.a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeSelectStrategy",filename:"packages\\tree\\src\\index.ts"}}),"undefined"!==typeof x&&x&&x===Object(x)&&Object.isExtensible(x)&&Object.defineProperty(x,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeModel",filename:"packages\\tree\\src\\index.ts"}}),"undefined"!==typeof j.a&&j.a&&j.a===Object(j.a)&&Object.isExtensible(j.a)&&Object.defineProperty(j.a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeNodeConfigType",filename:"packages\\tree\\src\\index.ts"}}),"undefined"!==typeof E.a&&E.a&&E.a===Object(E.a)&&Object.isExtensible(E.a)&&Object.defineProperty(E.a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeNodeType",filename:"packages\\tree\\src\\index.ts"}}),"undefined"!==typeof ne&&ne&&ne===Object(ne)&&Object.isExtensible(ne)&&Object.defineProperty(ne,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeNode",filename:"packages\\tree\\src\\index.ts"}});var fe=pe;"undefined"!==typeof pe&&pe&&pe===Object(pe)&&Object.isExtensible(pe)&&Object.defineProperty(pe,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Tree",filename:"packages\\tree\\src\\index.ts"}});var me=n("./node_modules/react-dnd/lib/index.js"),be=n("./node_modules/react-dom/index.js"),he={drop:function(){},hover:function(e,t,n){var r=t.getItem().nodeId,o=e.treeModel.nodes.findIndex((function(e){return e.id===r})),i=e.node.id,a=e.treeModel.nodes.findIndex((function(e){return e.id===i}));if(a!==o){var d=e.node.parent.id,s=Object(be.findDOMNode)(n).getBoundingClientRect(),l=(s.bottom-s.top)/2,c=t.getClientOffset().y-s.top;if(!(o<a&&c<l)&&!(o>a&&c>l))if(-1!==o){var u=e.treeModel.getNodeIdxOfParent(i);e.treeModel.moveNode(r,d,u)}else e.treeModel.addNode(d,{id:r,title:"\u65b0\u589e\u8282\u70b9",leaf:!0})}},canDrop:function(e,t){return t.getItem().parentId===e.node.parent.id}},ge=function(e){function t(){return Object(m.a)(this,t),Object(I.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,n=e.connectDragSource;return a.a.createElement(ne,Object.assign({},this.props,{innerRef:function(e){var r=Object(be.findDOMNode)(e);r&&(t(r),n(r))}}))}}]),t}(a.a.Component);var ve=Object(me.DropTarget)("sinoui-tree-node",he,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(me.DragSource)("sinoui-tree-node",{beginDrag:function(e){return{nodeId:e.node.id,parentId:e.node.parent.id}}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(ge)),Oe=function(e){function t(){return Object(m.a)(this,t),Object(I.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.connectDragSource;return a.a.createElement("div",{style:{height:36},ref:function(t){var n=Object(be.findDOMNode)(t);n&&e(n)}},"\u65b0\u589e\u8282\u70b9")}}]),t}(a.a.Component);var ye=Object(me.DragSource)("sinoui-tree-node",{beginDrag:function(){return{nodeId:"001"}}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Oe);function Ne(){var e=Object(k.a)(["\n  display: flex;\n  justify-content: space-around;\n"]);return Ne=function(){return e},e}function je(e){return e?new Promise((function(t){setTimeout((function(){t(l(e.level+1,0,e.id,!1))}),1500)})):l(0,0,"node",!1)}var Te=M.default.div(Ne());function Ee(){return a.a.createElement(Te,null,a.a.createElement(fe,{loadChildren:je,renderNode:function(e){return a.a.createElement(ve,e)}}),a.a.createElement(ye,null))}var De=Ee;function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ee&&Ee===Object(Ee)&&Object.isExtensible(Ee)&&Object.defineProperty(Ee,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DraggableTreeDemo",filename:"docs\\components\\DraggableTreeDemo.tsx"}}),n.d(t,"default",(function(){return Se}));var Ie={},Ce="wrapper";function Se(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(d.b)(Ce,Object.assign({},Ie,n,{components:t,mdxType:"MDXLayout"}),Object(d.b)("h1",{id:"sinouitree"},"@sinoui/tree"),Object(d.b)("blockquote",null,Object(d.b)("p",{parentName:"blockquote"},"\u6811\u7ec4\u4ef6\u65e8\u5728\u5c55\u73b0\u5b8c\u6574\u7684\u5c42\u7ea7\u5173\u7cfb\uff0c\u5e76\u5177\u6709\u5c55\u5f00\u3001\u6536\u8d77\u3001\u9009\u62e9\u7b49\u4ea4\u4e92\u529f\u80fd\u3002")),Object(d.b)("h2",{id:"\u4f9d\u8d56\u5b89\u88c5"},"\u4f9d\u8d56\u5b89\u88c5"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-shell"}),"yarn add @sinoui/tree\n")),Object(d.b)("h2",{id:"\u5165\u95e8\u793a\u4f8b"},"\u5165\u95e8\u793a\u4f8b"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React from 'react';\nimport Tree from '@sinoui/tree';\nimport treeData from './treeData';\nfunction Demo() {\n  return <Tree nodes={treeData} />;\n}\n")),Object(d.b)(s.c,{__position:0,__code:"<Tree nodes={treeData} />",__scope:{props:this?this.props:n,Playground:s.c,treeData:u,getTreeNodes:l,Tree:fe,DraggableTreeDemo:De},mdxType:"Playground"},Object(d.b)(fe,{nodes:u,mdxType:"Tree"})),Object(d.b)("p",null,"\u5176\u4e2d",Object(d.b)("inlineCode",{parentName:"p"},"Tree"),"\u7ec4\u4ef6\u5728\u6e32\u67d3\u6811\u7ec4\u4ef6\u65f6\uff0c\u9700\u8981\u7684",Object(d.b)("inlineCode",{parentName:"p"},"nodes"),"\u6570\u636e\u7ed3\u6784\u4e3a\uff1a"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),"[\n  {\n    id: 'node1', // \u8282\u70b9id\n    title: '\u8282\u70b9\u4e00', // \u8282\u70b9\u540d\u79f0\n    selected: true, //\n    leaf: false, // \u662f\u5426\u4e3a\u53f6\u5b50\u7ed3\u70b9\n    level: 1, // \u5c42\u7ea7\u5173\u7cfb\n    selectType: 'checkbox', // \u9009\u62e9\u7c7b\u578b\n    children: [\n      // \u5b50\u8282\u70b9\n      {\n        id: 'node2',\n        title: '\u8282\u70b9\u4e8c',\n      },\n    ],\n    parent:{  //\u7236\u8282\u70b9\n      ...\n    }\n  },\n];\n")),Object(d.b)("h2",{id:"\u4e00\u6b21\u6027\u52a0\u8f7d\u6240\u6709\u6570\u636e"},"\u4e00\u6b21\u6027\u52a0\u8f7d\u6240\u6709\u6570\u636e"),Object(d.b)("p",null,"\u6240\u8c13\u4e00\u6b21\u6027\u52a0\u8f7d\u6240\u6709\u6570\u636e\uff0c\u5373\u8c03\u7528\u4e00\u6b21\u540e\u7aef\u63a5\u53e3\u83b7\u53d6\u6240\u6709\u8282\u70b9\u6570\u636e\uff0c\u7136\u540e\u901a\u8fc7",Object(d.b)("inlineCode",{parentName:"p"},"nodes"),"\u5c5e\u6027\u4f20\u7ed9",Object(d.b)("inlineCode",{parentName:"p"},"Tree"),"\u7ec4\u4ef6\u3002"),Object(d.b)(s.c,{__position:1,__code:"<Tree nodes={treeData} />",__scope:{props:this?this.props:n,Playground:s.c,treeData:u,getTreeNodes:l,Tree:fe,DraggableTreeDemo:De},mdxType:"Playground"},Object(d.b)(fe,{nodes:u,mdxType:"Tree"})),Object(d.b)("h2",{id:"\u9010\u7ea7\u52a0\u8f7d\u6570\u636e"},"\u9010\u7ea7\u52a0\u8f7d\u6570\u636e"),Object(d.b)("p",null,"\u9996\u5148\u83b7\u53d6\u7b2c\u4e00\u5c42\u7ea7\u6811\u8282\u70b9\uff0c\u5728\u70b9\u51fb\u8282\u70b9\u65f6\uff0c\u9010\u4e2a\u52a0\u8f7d\u6570\u636e\u3002\u8fd9\u91cc\u9700\u8981\u7ed9",Object(d.b)("inlineCode",{parentName:"p"},"Tree"),"\u7ec4\u4ef6\u4e00\u4e2a",Object(d.b)("inlineCode",{parentName:"p"},"loadChildren"),"\u65b9\u6cd5\u5c5e\u6027\uff0c\u901a\u8fc7\u6b64\u65b9\u6cd5\u52a0\u8f7d\u6570\u636e\u3002"),Object(d.b)(s.c,{__position:2,__code:"() => {\n  const loadChildren = treeNode => {\n    if (!treeNode) {\n      return getTreeNodes(0, 0, 'node', false)\n    } else {\n      const promise = new Promise((resolve, reject) => {\n        setTimeout(() => {\n          resolve(getTreeNodes(treeNode.level + 1, 0, treeNode.id, false))\n        }, 1500)\n      })\n      return promise\n    }\n  }\n\n  return <Tree loadChildren={loadChildren} dense={false} />\n}",__scope:{props:this?this.props:n,Playground:s.c,treeData:u,getTreeNodes:l,Tree:fe,DraggableTreeDemo:De},mdxType:"Playground"},(function(){return Object(d.b)(fe,{loadChildren:function(e){return e?new Promise((function(t,n){setTimeout((function(){t(l(e.level+1,0,e.id,!1))}),1500)})):l(0,0,"node",!1)},dense:!1,mdxType:"Tree"})})),Object(d.b)("h2",{id:"\u591a\u9009"},"\u591a\u9009"),Object(d.b)("p",null,"\u7ed9",Object(d.b)("inlineCode",{parentName:"p"},"Tree"),"\u7ec4\u4ef6\u6307\u5b9a",Object(d.b)("inlineCode",{parentName:"p"},"multiple"),"\u5c5e\u6027\u5373\u53ef\u8fbe\u5230\u591a\u9009\u6548\u679c\u3002"),Object(d.b)(s.c,{__position:3,__code:"() => {\n  const loadChildren = treeNode => {\n    if (!treeNode) {\n      return getTreeNodes(0, 0, 'node', false)\n    } else {\n      const promise = new Promise((resolve, reject) => {\n        setTimeout(() => {\n          resolve(getTreeNodes(treeNode.level + 1, 0, treeNode.id, false))\n        }, 1500)\n      })\n      return promise\n    }\n  }\n  return (\n    <Tree\n      loadChildren={loadChildren}\n      multiple\n      selectedItems={['node_1', 'node_2']}\n    />\n  )\n}",__scope:{props:this?this.props:n,Playground:s.c,treeData:u,getTreeNodes:l,Tree:fe,DraggableTreeDemo:De},mdxType:"Playground"},(function(){return Object(d.b)(fe,{loadChildren:function(e){return e?new Promise((function(t,n){setTimeout((function(){t(l(e.level+1,0,e.id,!1))}),1500)})):l(0,0,"node",!1)},multiple:!0,selectedItems:["node_1","node_2"],mdxType:"Tree"})})),Object(d.b)("h2",{id:"\u7ea7\u8054\u9009\u62e9"},"\u7ea7\u8054\u9009\u62e9"),Object(d.b)("p",null,"\u901a\u8fc7\u7ed9",Object(d.b)("inlineCode",{parentName:"p"},"Tree"),"\u7ec4\u4ef6\u4e00\u4e2a",Object(d.b)("inlineCode",{parentName:"p"},"cascade"),"\u5c5e\u6027\u5b9e\u73b0\u7ea7\u8054\u9009\u62e9\u3002"),Object(d.b)(s.c,{__position:4,__code:"() => {\n  const loadChildren = treeNode => {\n    if (!treeNode) {\n      return getTreeNodes(0, 0, 'node', false).map(node => ({\n        ...node,\n        selectType: 'checkbox',\n        selectable: node.id !== 'node_9',\n      }))\n    } else {\n      const promise = new Promise(resolve => {\n        setTimeout(() => {\n          resolve(\n            getTreeNodes(treeNode.level + 1, 0, treeNode.id, false).map(\n              node => ({ ...node, selectType: 'checkbox' }),\n            ),\n          )\n        }, 1500)\n      })\n      return promise\n    }\n  }\n\n  return <Tree loadChildren={loadChildren} multiple cascade />\n}",__scope:{props:this?this.props:n,Playground:s.c,treeData:u,getTreeNodes:l,Tree:fe,DraggableTreeDemo:De},mdxType:"Playground"},(function(){return Object(d.b)(fe,{loadChildren:function(e){return e?new Promise((function(t){setTimeout((function(){t(l(e.level+1,0,e.id,!1).map((function(e){return xe({},e,{selectType:"checkbox"})})))}),1500)})):l(0,0,"node",!1).map((function(e){return xe({},e,{selectType:"checkbox",selectable:"node_9"!==e.id})}))},multiple:!0,cascade:!0,mdxType:"Tree"})})),Object(d.b)("h2",{id:"\u62d6\u62fd\u65b0\u589e\u548c\u6392\u5e8f"},"\u62d6\u62fd\u65b0\u589e\u548c\u6392\u5e8f"),Object(d.b)("p",null,"\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528",Object(d.b)("a",Object.assign({parentName:"p"},{href:"https://www.npmjs.com/package/react-dnd"}),"react-dnd"),"\u6765\u5b9e\u73b0\u62d6\u62fd\u65b0\u589e\u548c\u6392\u5e8f\u3002"),Object(d.b)("p",null,"\u9996\u5148\u9700\u8981\u81ea\u5b9a\u4e49\u6811\u8282\u70b9\u7684\u6e32\u67d3\u7ec4\u4ef6",Object(d.b)("inlineCode",{parentName:"p"},"TreeNodeComponent.tsx"),":"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React from 'react';\nimport {\n  DragSource,\n  DropTarget,\n  DragSourceConnector,\n  DragSourceMonitor,\n  DropTargetConnector,\n  DropTargetMonitor,\n} from 'react-dnd';\nimport { findDOMNode } from 'react-dom';\nimport { TreeNodeProps, TreeNode } from '@sinoui/tree';\n\n/**\n * Implements the drag source contract.\n */\nconst treeNodeDrag = {\n  beginDrag(props: TreeNodeProps) {\n    return {\n      nodeId: props.node.id,\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      parentId: props.node.parent!.id,\n    };\n  },\n};\n\nconst treeNodeDrop = {\n  drop() {},\n  hover(props: TreeNodeProps, monitor: DropTargetMonitor, component: any) {\n    const dragNodeId = monitor.getItem().nodeId;\n    const dragIndex = props.treeModel.nodes.findIndex(\n      (node) => node.id === dragNodeId,\n    );\n    const hoverNodeId = props.node.id;\n    const hoverIndex = props.treeModel.nodes.findIndex(\n      (node) => node.id === hoverNodeId,\n    );\n    if (hoverIndex === dragIndex) {\n      return;\n    }\n\n    const hoverParentNodeId = props.node.parent!.id;\n\n    // eslint-disable-next-line react/no-find-dom-node\n    const hoverBoundingRect = (findDOMNode(\n      component,\n    ) as HTMLElement).getBoundingClientRect();\n    const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n    const clientOffset = monitor.getClientOffset();\n    const hoverClientY = clientOffset!.y - hoverBoundingRect.top;\n\n    // Dragging downwards\n    if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n      return;\n    }\n\n    // Dragging upwards\n    if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n      return;\n    }\n\n    if (dragIndex !== -1) {\n      const idx = props.treeModel.getNodeIdxOfParent(hoverNodeId);\n      props.treeModel.moveNode(dragNodeId, hoverParentNodeId, idx);\n    } else {\n      props.treeModel.addNode(hoverParentNodeId, {\n        id: dragNodeId,\n        title: '\u65b0\u589e\u8282\u70b9',\n        leaf: true,\n      });\n    }\n  },\n\n  canDrop(props: TreeNodeProps, monitor: DropTargetMonitor) {\n    return monitor.getItem().parentId === props.node.parent!.id;\n  },\n};\n\nclass TreeNodeComponent extends React.Component<\n  TreeNodeProps & {\n    connectDragSource: any;\n    isDragging: boolean;\n    connectDropTarget: any;\n    isOvering: boolean;\n  }\n> {\n  public render() {\n    const { connectDropTarget, connectDragSource } = this.props;\n    return (\n      <TreeNode\n        {...this.props}\n        innerRef={(instance) => {\n          // eslint-disable-next-line react/no-find-dom-node\n          const domNode = findDOMNode(instance);\n          if (domNode) {\n            connectDropTarget(domNode);\n            connectDragSource(domNode);\n          }\n        }}\n      />\n    );\n  }\n}\nfunction collect(connect: DragSourceConnector, monitor: DragSourceMonitor) {\n  return {\n    connectDragSource: connect.dragSource(),\n    isDragging: monitor.isDragging(),\n  };\n}\n\nfunction dropCollect(connect: DropTargetConnector, monitor: DropTargetMonitor) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n  };\n}\n\nexport default DropTarget('sinoui-tree-node', treeNodeDrop, dropCollect)(\n  DragSource('sinoui-tree-node', treeNodeDrag, collect)(\n    TreeNodeComponent as any,\n  ),\n);\n")),Object(d.b)("p",null,"\u7136\u540e\u8fd8\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a\u53ef\u62d6\u62fd\u7684\u65b0\u589e\u8282\u70b9\u7ec4\u4ef6",Object(d.b)("inlineCode",{parentName:"p"},"DraggableTreeNode.tsx"),"\uff1a"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React from 'react';\nimport { DragSource, DragSourceConnector, DragSourceMonitor } from 'react-dnd';\nimport { findDOMNode } from 'react-dom';\nimport { TreeNodeProps } from '@sinoui/tree';\n\n/**\n * Implements the drag source contract.\n */\nconst treeNodeDrag = {\n  beginDrag() {\n    return {\n      nodeId: '001',\n    };\n  },\n};\n\nclass DraggableTreeNode extends React.Component<\n  TreeNodeProps & {\n    connectDragSource: any;\n    isDragging: boolean;\n    connectDropTarget: any;\n    isOvering: boolean;\n  }\n> {\n  public render() {\n    const { connectDragSource } = this.props;\n    return (\n      <div\n        style={{ height: 36 }}\n        ref={(instance) => {\n          // eslint-disable-next-line react/no-find-dom-node\n          const domNode = findDOMNode(instance);\n          if (domNode) {\n            connectDragSource(domNode);\n          }\n        }}\n      >\n        \u65b0\u589e\u8282\u70b9\n      </div>\n    );\n  }\n}\nfunction collect(connect: DragSourceConnector, monitor: DragSourceMonitor) {\n  return {\n    connectDragSource: connect.dragSource(),\n    isDragging: monitor.isDragging(),\n  };\n}\n\nexport default DragSource('sinoui-tree-node', treeNodeDrag, collect)(\n  DraggableTreeNode as any,\n);\n")),Object(d.b)("p",null,"\u6700\u540e\u4f7f\u7528",Object(d.b)("inlineCode",{parentName:"p"},"TreeNodeComponent"),"\u548c ",Object(d.b)("inlineCode",{parentName:"p"},"DraggableTreeNode"),"\u7ec4\u4ef6\u5b9e\u73b0\u62d6\u62fd\u65b0\u589e\u548c\u6392\u5e8f\uff1a"),Object(d.b)("pre",null,Object(d.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React from 'react';\nimport Tree, { TreeNodeConfigType, TreeNodeType } from '@sinoui/tree';\nimport styled from 'styled-components';\nimport { getTreeNodes } from '../treeData';\nimport TreeNodeComponent from './TreeNode';\nimport DraggableTreeNode from './DraggableTreeNode';\n\nfunction loadChildren(\n  treeNode?: TreeNodeType,\n): Promise<TreeNodeConfigType[]> | TreeNodeConfigType[] {\n  if (!treeNode) {\n    return getTreeNodes(0, 0, 'node', false);\n  }\n  const promise: Promise<TreeNodeConfigType[]> = new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(getTreeNodes(treeNode.level + 1, 0, treeNode.id, false));\n    }, 1500);\n  });\n\n  return promise;\n}\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: space-around;\n`;\n\nfunction DraggableTreeDemo() {\n  return (\n    <Wrapper>\n      <Tree\n        loadChildren={loadChildren}\n        renderNode={(props) => <TreeNodeComponent {...props} />}\n      />\n      <DraggableTreeNode />\n    </Wrapper>\n  );\n}\n\nexport default DragDropContext(HTML5Backend)(DraggableTreeDemo as any);\n")),Object(d.b)(s.c,{__position:5,__code:"<DraggableTreeDemo />",__scope:{props:this?this.props:n,Playground:s.c,treeData:u,getTreeNodes:l,Tree:fe,DraggableTreeDemo:De},mdxType:"Playground"},Object(d.b)(De,{mdxType:"DraggableTreeDemo"})))}Se&&Se===Object(Se)&&Object.isExtensible(Se)&&Object.defineProperty(Se,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"docs\\index.mdx"}}),Se.isMDXComponent=!0},"./packages/tree-models/src/TreeNodeConfigType.ts":function(e,t){},"./packages/tree-models/src/TreeNodeType.ts":function(e,t){},"./packages/tree-models/src/TreeSelectStrategy.ts":function(e,t){}}]);
//# sourceMappingURL=docs-index.1d6991a758bbd75f6478.js.map